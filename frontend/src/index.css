@tailwind base;
@tailwind components;
@tailwind utilities;

@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

@layer base {
    :root {
        /* Light Mode - Pastel version of dark mode colors */
        --background: 222 47% 92%; /* Light pastel of dark bg #0f172a */
        --foreground: 222 47% 11%; /* Keep dark text for readability */
        --card: 217 33% 85%; /* Light pastel of dark card #1e293b */
        --card-foreground: 222 47% 11%; /* Dark text on cards */
        --popover: 217 33% 85%; /* Light pastel of dark popover #1e293b */
        --popover-foreground: 222 47% 11%; /* Dark text on popover */
        --primary: 4 75% 85%; /* Light pastel of dark primary red #E53935 */
        --primary-foreground: 222 47% 11%; /* Dark text on light red */
        --secondary: 45 100% 85%; /* Light pastel of dark secondary gold #FFC107 */
        --secondary-foreground: 222 47% 11%; /* Dark text on light gold */
        --muted: 217 33% 85%; /* Light pastel of dark muted #1e293b */
        --muted-foreground: 215 20% 40%; /* Darker for contrast */
        --accent: 45 100% 85%; /* Light pastel of dark accent gold #FFC107 */
        --accent-foreground: 222 47% 11%; /* Dark text on light gold */
        --destructive: 0 84% 85%; /* Light pastel of error red */
        --destructive-foreground: 222 47% 11%; /* Dark text on light red */
        --border: 217 33% 78%; /* Light pastel of dark border #334155 */
        --input: 217 33% 85%; /* Light pastel of dark input #1e293b */
        --ring: 4 75% 85%; /* Light pastel of dark ring */
        --radius: 0.5rem;
        --success: 142 71% 75%; /* Light pastel of success green */
        --warning: 38 92% 75%; /* Light pastel of warning orange */
        --info: 221 83% 80%; /* Light pastel of info blue */
    }

    .dark {
        /* Dark Mode - BNI Professional Theme */
        --background: 222 47% 11%; /* #0f172a - Deep slate background */
        --foreground: 210 40% 98%; /* #f8fafc - Near white text */
        --card: 217 33% 17%; /* #1e293b - Slate card */
        --card-foreground: 210 40% 98%; /* #f8fafc - Light text on cards */
        --popover: 217 33% 17%; /* #1e293b - Popover background */
        --popover-foreground: 210 40% 98%; /* #f8fafc - Popover text */
        --primary: 4 75% 55%; /* #E53935 - Brighter BNI Red for dark mode */
        --primary-foreground: 210 40% 98%; /* #f8fafc - Light on red */
        --secondary: 45 100% 55%; /* #FFC107 - Brighter Gold for dark mode */
        --secondary-foreground: 222 47% 11%; /* #0f172a - Dark on gold */
        --muted: 217 33% 17%; /* #1e293b - Dark gray */
        --muted-foreground: 215 20% 65%; /* #94a3b8 - Light gray text */
        --accent: 45 100% 55%; /* #FFC107 - Bright gold accent */
        --accent-foreground: 222 47% 11%; /* #0f172a - Dark on gold */
        --destructive: 0 84% 60%; /* #ef4444 - Error red */
        --destructive-foreground: 210 40% 98%; /* #f8fafc - Light on red */
        --border: 217 33% 24%; /* #334155 - Subtle borders */
        --input: 217 33% 17%; /* #1e293b - Input background */
        --ring: 4 75% 55%; /* #E53935 - BNI Red ring */
        --success: 142 71% 45%; /* #16a34a - Success green */
        --warning: 38 92% 50%; /* #f59e0b - Warning orange */
        --info: 221 83% 53%; /* #3b82f6 - Info blue */
    }

    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground;
        font-family:
            "Inter",
            system-ui,
            -apple-system,
            BlinkMacSystemFont,
            "Segoe UI",
            Roboto,
            sans-serif;
        margin: 0;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        transition:
            background-color 0.3s ease,
            color 0.3s ease;
    }

    code {
        font-family:
            source-code-pro, Menlo, Monaco, Consolas, "Courier New", monospace;
    }
}

/* Professional scrollbar styling */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    @apply bg-gray-100 dark:bg-gray-800;
}

::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-600 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400 dark:bg-gray-500;
}

/* Custom animations */
@keyframes fade-in {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-fade-in {
    animation: fade-in 0.3s ease-out;
}

/* Professional focus styles */
.focus-visible {
    @apply outline-none ring-2 ring-primary ring-offset-2 ring-offset-background;
}

/* Loading skeleton animation */
@keyframes skeleton-pulse {
    0%,
    100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

.animate-skeleton {
    animation: skeleton-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Smooth transitions for interactive elements */
@layer utilities {
    .transition-smooth {
        @apply transition-all duration-300 ease-in-out;
    }

    .hover-lift {
        @apply transition-transform duration-200 ease-out;
    }

    .hover-lift:hover {
        @apply -translate-y-1 shadow-lg;
    }

    .focus-ring {
        @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2;
    }

    /* Loading state utilities */
    .loading-shimmer {
        @apply relative overflow-hidden;
    }

    .loading-shimmer::after {
        content: "";
        @apply absolute inset-0;
        background: linear-gradient(
            90deg,
            transparent,
            rgba(255, 255, 255, 0.2),
            transparent
        );
        animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
        0% {
            transform: translateX(-100%);
        }
        100% {
            transform: translateX(100%);
        }
    }

    /* Interactive state utilities */
    .interactive-scale {
        @apply transition-transform duration-150 active:scale-95;
    }

    .button-press {
        @apply active:translate-y-0.5;
    }

    /* Status indicators */
    .status-success {
        @apply bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 border-green-200 dark:border-green-800;
    }

    .status-error {
        @apply bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 border-red-200 dark:border-red-800;
    }

    .status-warning {
        @apply bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-300 border-yellow-200 dark:border-yellow-800;
    }

    .status-info {
        @apply bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-800;
    }

    /* Pulse animation for loading */
    .pulse-slow {
        animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    /* ==================================================================
       ACCESSIBILITY IMPROVEMENTS - WCAG 2.1 AA Compliance
       ================================================================== */

    /* Enhanced focus indicators for keyboard navigation */
    .focus-visible-ring {
        @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background;
    }

    /* Global focus styles for all interactive elements */
    button:focus-visible,
    a:focus-visible,
    input:focus-visible,
    textarea:focus-visible,
    select:focus-visible,
    [role="button"]:focus-visible,
    [role="link"]:focus-visible,
    [tabindex]:not([tabindex="-1"]):focus-visible {
        @apply outline-none ring-2 ring-primary ring-offset-2 ring-offset-background;
        transition: box-shadow 0.2s ease-in-out;
    }

    /* Skip to main content link for screen readers */
    .skip-to-main {
        @apply sr-only focus:not-sr-only focus:fixed focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-primary focus:text-primary-foreground focus:rounded-md;
    }

    /* Enhanced contrast for text on colored backgrounds */
    .high-contrast-text {
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    }

    /* Keyboard navigation visual feedback for tables */
    table tr:focus-within {
        @apply bg-accent/10 ring-2 ring-accent ring-inset;
    }

    table td:focus-within,
    table th:focus-within {
        @apply bg-accent/20 outline-none ring-1 ring-accent;
    }

    /* Interactive element hover states for better UX */
    button:not(:disabled):hover,
    a:hover,
    [role="button"]:not([aria-disabled="true"]):hover {
        @apply transition-colors duration-200;
    }

    /* Disabled state improvements */
    .disabled-muted {
        @apply disabled:opacity-60 disabled:cursor-not-allowed disabled:saturate-50;
    }

    /* Screen reader only text */
    .sr-only-focusable:not(:focus):not(:focus-within) {
        @apply sr-only;
    }

    /* Ensure sufficient color contrast for links */
    a.text-link {
        @apply underline decoration-2 underline-offset-2;
    }

    a.text-link:hover {
        @apply decoration-primary;
    }

    /* ARIA live region styling */
    [aria-live="polite"],
    [aria-live="assertive"] {
        @apply sr-only;
    }

    /* Better visibility for focus on matrix tables */
    [role="grid"] [role="gridcell"]:focus,
    [role="grid"] [role="columnheader"]:focus,
    [role="grid"] [role="rowheader"]:focus {
        @apply outline-none ring-2 ring-primary bg-primary/10;
        box-shadow: inset 0 0 0 2px hsl(var(--primary));
    }

    /* Keyboard navigation indicators */
    [data-keyboard-nav="true"] *:focus {
        @apply ring-2 ring-primary ring-offset-2;
    }

    /* High contrast mode support */
    @media (prefers-contrast: high) {
        button,
        a,
        input,
        select,
        textarea {
            border-width: 2px;
        }

        .focus-visible-ring,
        *:focus-visible {
            @apply ring-4;
        }
    }

    /* Reduced motion support */
    @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
            scroll-behavior: auto !important;
        }
    }
}
